!function (t) {
    "use strict"; function e(t) { return t && "object" == typeof t && "default" in t ? t : { default: t } } var n = e(jQuery), r = function (t, e) { return (r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) { t.__proto__ = e } || function (t, e) { for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]) })(t, e) };
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function o(t, e) { function n() { this.constructor = t } r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n) } var i = function () { return (i = Object.assign || function (t) { for (var e, n = 1, r = arguments.length; n < r; n++)for (var o in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]); return t }).apply(this, arguments) }; function s(t, e, n, r) { return new (n || (n = Promise))((function (o, i) { function s(t) { try { u(r.next(t)) } catch (t) { i(t) } } function a(t) { try { u(r.throw(t)) } catch (t) { i(t) } } function u(t) { var e; t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n((function (t) { t(e) }))).then(s, a) } u((r = r.apply(t, e || [])).next()) })) } function a(t, e) { var n, r, o, i, s = { label: 0, sent: function () { if (1 & o[0]) throw o[1]; return o[1] }, trys: [], ops: [] }; return i = { next: a(0), throw: a(1), return: a(2) }, "function" == typeof Symbol && (i[Symbol.iterator] = function () { return this }), i; function a(i) { return function (a) { return function (i) { if (n) throw new TypeError("Generator is already executing."); for (; s;)try { if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o; switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) { case 0: case 1: o = i; break; case 4: return s.label++, { value: i[1], done: !1 }; case 5: s.label++, r = i[1], i = [0]; continue; case 7: i = s.ops.pop(), s.trys.pop(); continue; default: if (!((o = (o = s.trys).length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) { s = 0; continue } if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) { s.label = i[1]; break } if (6 === i[0] && s.label < o[1]) { s.label = o[1], o = i; break } if (o && s.label < o[2]) { s.label = o[2], s.ops.push(i); break } o[2] && s.ops.pop(), s.trys.pop(); continue }i = e.call(t, s) } catch (t) { i = [6, t], r = 0 } finally { n = o = 0 } if (5 & i[0]) throw i[1]; return { value: i[0] ? i[1] : void 0, done: !0 } }([i, a]) } } } function u() { for (var t = 0, e = 0, n = arguments.length; e < n; e++)t += arguments[e].length; var r = Array(t), o = 0; for (e = 0; e < n; e++)for (var i = arguments[e], s = 0, a = i.length; s < a; s++, o++)r[o] = i[s]; return r } var l, p, c, h, f, d, _, g = {}, y = [], m = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i; function v(t, e) { for (var n in e) t[n] = e[n]; return t } function b(t) { var e = t.parentNode; e && e.removeChild(t) } function w(t, e, n) { var r, o, i, s = arguments, a = {}; for (i in e) "key" == i ? r = e[i] : "ref" == i ? o = e[i] : a[i] = e[i]; if (arguments.length > 3) for (n = [n], i = 3; i < arguments.length; i++)n.push(s[i]); if (null != n && (a.children = n), "function" == typeof t && null != t.defaultProps) for (i in t.defaultProps) void 0 === a[i] && (a[i] = t.defaultProps[i]); return P(t, a, r, o, null) } function P(t, e, n, r, o) { var i = { type: t, props: e, key: n, ref: r, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, __h: null, constructor: void 0, __v: null == o ? ++l.__v : o }; return null != l.vnode && l.vnode(i), i } function S(t) { return t.children } function x(t, e) { this.props = t, this.context = e } function k(t, e) { if (null == e) return t.__ ? k(t.__, t.__.__k.indexOf(t) + 1) : null; for (var n; e < t.__k.length; e++)if (null != (n = t.__k[e]) && null != n.__e) return n.__e; return "function" == typeof t.type ? k(t) : null } function C(t) { var e, n; if (null != (t = t.__) && null != t.__c) { for (t.__e = t.__c.base = null, e = 0; e < t.__k.length; e++)if (null != (n = t.__k[e]) && null != n.__e) { t.__e = t.__c.base = n.__e; break } return C(t) } } function N(t) { (!t.__d && (t.__d = !0) && c.push(t) && !T.__r++ || f !== l.debounceRendering) && ((f = l.debounceRendering) || h)(T) } function T() { for (var t; T.__r = c.length;)t = c.sort((function (t, e) { return t.__v.__b - e.__v.__b })), c = [], t.some((function (t) { var e, n, r, o, i, s; t.__d && (i = (o = (e = t).__v).__e, (s = e.__P) && (n = [], (r = v({}, o)).__v = o.__v + 1, U(s, o, r, e.__n, void 0 !== s.ownerSVGElement, null != o.__h ? [i] : null, n, null == i ? k(o) : i, o.__h), j(n, o), o.__e != i && C(o))) })) } function F(t, e, n, r, o, i, s, a, u, l) { var p, c, h, f, d, _, m, v = r && r.__k || y, w = v.length; for (u == g && (u = null != s ? s[0] : w ? k(r, 0) : null), n.__k = [], p = 0; p < e.length; p++)if (null != (f = n.__k[p] = null == (f = e[p]) || "boolean" == typeof f ? null : "string" == typeof f || "number" == typeof f ? P(null, f, null, null, f) : Array.isArray(f) ? P(S, { children: f }, null, null, null) : f.__b > 0 ? P(f.type, f.props, f.key, null, f.__v) : f)) { if (f.__ = n, f.__b = n.__b + 1, null === (h = v[p]) || h && f.key == h.key && f.type === h.type) v[p] = void 0; else for (c = 0; c < w; c++) { if ((h = v[c]) && f.key == h.key && f.type === h.type) { v[c] = void 0; break } h = null } U(t, f, h = h || g, o, i, s, a, u, l), d = f.__e, (c = f.ref) && h.ref != c && (m || (m = []), h.ref && m.push(h.ref, null, f), m.push(c, f.__c || d, f)), null != d ? (null == _ && (_ = d), "function" == typeof f.type && f.__k === h.__k ? f.__d = u = O(f, u, t) : u = D(t, f, h, v, s, d, u), l || "option" !== n.type ? "function" == typeof n.type && (n.__d = u) : t.value = "") : u && h.__e == u && u.parentNode != t && (u = k(h)) } if (n.__e = _, null != s && "function" != typeof n.type) for (p = s.length; p--;)null != s[p] && b(s[p]); for (p = w; p--;)null != v[p] && ("function" == typeof n.type && null != v[p].__e && v[p].__e == n.__d && (n.__d = k(r, p + 1)), H(v[p], v[p])); if (m) for (p = 0; p < m.length; p++)M(m[p], m[++p], m[++p]) } function O(t, e, n) { var r, o; for (r = 0; r < t.__k.length; r++)(o = t.__k[r]) && (o.__ = t, "function" == typeof o.type ? O(o, e, n) : e = D(n, o, o, t.__k, null, o.__e, e)); return e } function D(t, e, n, r, o, i, s) { var a, u, l; if (void 0 !== e.__d) a = e.__d, e.__d = void 0; else if (o == n || i != s || null == i.parentNode) t: if (null == s || s.parentNode !== t) t.appendChild(i), a = null; else { for (u = s, l = 0; (u = u.nextSibling) && l < r.length; l += 2)if (u == i) break t; t.insertBefore(i, s), a = s } return void 0 !== a ? a : i.nextSibling } function E(t, e, n) { "-" === e[0] ? t.setProperty(e, n) : t[e] = null == n ? "" : "number" != typeof n || m.test(e) ? n : n + "px" } function I(t, e, n, r, o) { var i, s, a; if (o && "className" == e && (e = "class"), "style" === e) if ("string" == typeof n) t.style.cssText = n; else { if ("string" == typeof r && (t.style.cssText = r = ""), r) for (e in r) n && e in n || E(t.style, e, ""); if (n) for (e in n) r && n[e] === r[e] || E(t.style, e, n[e]) } else "o" === e[0] && "n" === e[1] ? (i = e !== (e = e.replace(/Capture$/, "")), (s = e.toLowerCase()) in t && (e = s), e = e.slice(2), t.l || (t.l = {}), t.l[e + i] = n, a = i ? R : L, n ? r || t.addEventListener(e, a, i) : t.removeEventListener(e, a, i)) : "list" !== e && "tagName" !== e && "form" !== e && "type" !== e && "size" !== e && "download" !== e && "href" !== e && !o && e in t ? t[e] = null == n ? "" : n : "function" != typeof n && "dangerouslySetInnerHTML" !== e && (e !== (e = e.replace(/xlink:?/, "")) ? null == n || !1 === n ? t.removeAttributeNS("http://www.w3.org/1999/xlink", e.toLowerCase()) : t.setAttributeNS("http://www.w3.org/1999/xlink", e.toLowerCase(), n) : null == n || !1 === n && !/^ar/.test(e) ? t.removeAttribute(e) : t.setAttribute(e, n)) } function L(t) { this.l[t.type + !1](l.event ? l.event(t) : t) } function R(t) { this.l[t.type + !0](l.event ? l.event(t) : t) } function U(t, e, n, r, o, i, s, a, u) { var p, c, h, f, d, _, g, y, m, b, w, P = e.type; if (void 0 !== e.constructor) return null; null != n.__h && (u = n.__h, a = e.__e = n.__e, e.__h = null, i = [a]), (p = l.__b) && p(e); try { t: if ("function" == typeof P) { if (y = e.props, m = (p = P.contextType) && r[p.__c], b = p ? m ? m.props.value : p.__ : r, n.__c ? g = (c = e.__c = n.__c).__ = c.__E : ("prototype" in P && P.prototype.render ? e.__c = c = new P(y, b) : (e.__c = c = new x(y, b), c.constructor = P, c.render = W), m && m.sub(c), c.props = y, c.state || (c.state = {}), c.context = b, c.__n = r, h = c.__d = !0, c.__h = []), null == c.__s && (c.__s = c.state), null != P.getDerivedStateFromProps && (c.__s == c.state && (c.__s = v({}, c.__s)), v(c.__s, P.getDerivedStateFromProps(y, c.__s))), f = c.props, d = c.state, h) null == P.getDerivedStateFromProps && null != c.componentWillMount && c.componentWillMount(), null != c.componentDidMount && c.__h.push(c.componentDidMount); else { if (null == P.getDerivedStateFromProps && y !== f && null != c.componentWillReceiveProps && c.componentWillReceiveProps(y, b), !c.__e && null != c.shouldComponentUpdate && !1 === c.shouldComponentUpdate(y, c.__s, b) || e.__v === n.__v) { c.props = y, c.state = c.__s, e.__v !== n.__v && (c.__d = !1), c.__v = e, e.__e = n.__e, e.__k = n.__k, c.__h.length && s.push(c); break t } null != c.componentWillUpdate && c.componentWillUpdate(y, c.__s, b), null != c.componentDidUpdate && c.__h.push((function () { c.componentDidUpdate(f, d, _) })) } c.context = b, c.props = y, c.state = c.__s, (p = l.__r) && p(e), c.__d = !1, c.__v = e, c.__P = t, p = c.render(c.props, c.state, c.context), c.state = c.__s, null != c.getChildContext && (r = v(v({}, r), c.getChildContext())), h || null == c.getSnapshotBeforeUpdate || (_ = c.getSnapshotBeforeUpdate(f, d)), w = null != p && p.type === S && null == p.key ? p.props.children : p, F(t, Array.isArray(w) ? w : [w], e, n, r, o, i, s, a, u), c.base = e.__e, e.__h = null, c.__h.length && s.push(c), g && (c.__E = c.__ = null), c.__e = !1 } else null == i && e.__v === n.__v ? (e.__k = n.__k, e.__e = n.__e) : e.__e = A(n.__e, e, n, r, o, i, s, u); (p = l.diffed) && p(e) } catch (t) { e.__v = null, (u || null != i) && (e.__e = a, e.__h = !!u, i[i.indexOf(a)] = null), l.__e(t, e, n) } } function j(t, e) { l.__c && l.__c(e, t), t.some((function (e) { try { t = e.__h, e.__h = [], t.some((function (t) { t.call(e) })) } catch (t) { l.__e(t, e.__v) } })) } function A(t, e, n, r, o, i, s, a) { var u, l, p, c, h, f = n.props, d = e.props; if (o = "svg" === e.type || o, null != i) for (u = 0; u < i.length; u++)if (null != (l = i[u]) && ((null === e.type ? 3 === l.nodeType : l.localName === e.type) || t == l)) { t = l, i[u] = null; break } if (null == t) { if (null === e.type) return document.createTextNode(d); t = o ? document.createElementNS("http://www.w3.org/2000/svg", e.type) : document.createElement(e.type, d.is && { is: d.is }), i = null, a = !1 } if (null === e.type) f === d || a && t.data === d || (t.data = d); else { if (null != i && (i = y.slice.call(t.childNodes)), p = (f = n.props || g).dangerouslySetInnerHTML, c = d.dangerouslySetInnerHTML, !a) { if (null != i) for (f = {}, h = 0; h < t.attributes.length; h++)f[t.attributes[h].name] = t.attributes[h].value; (c || p) && (c && (p && c.__html == p.__html || c.__html === t.innerHTML) || (t.innerHTML = c && c.__html || "")) } (function (t, e, n, r, o) { var i; for (i in n) "children" === i || "key" === i || i in e || I(t, i, null, n[i], r); for (i in e) o && "function" != typeof e[i] || "children" === i || "key" === i || "value" === i || "checked" === i || n[i] === e[i] || I(t, i, e[i], n[i], r) })(t, d, f, o, a), c ? e.__k = [] : (u = e.props.children, F(t, Array.isArray(u) ? u : [u], e, n, r, "foreignObject" !== e.type && o, i, s, g, a)), a || ("value" in d && void 0 !== (u = d.value) && (u !== t.value || "progress" === e.type && !u) && I(t, "value", u, f.value, !1), "checked" in d && void 0 !== (u = d.checked) && u !== t.checked && I(t, "checked", u, f.checked, !1)) } return t } function M(t, e, n) { try { "function" == typeof t ? t(e) : t.current = e } catch (t) { l.__e(t, n) } } function H(t, e, n) { var r, o, i; if (l.unmount && l.unmount(t), (r = t.ref) && (r.current && r.current !== t.__e || M(r, null, e)), n || "function" == typeof t.type || (n = null != (o = t.__e)), t.__e = t.__d = void 0, null != (r = t.__c)) { if (r.componentWillUnmount) try { r.componentWillUnmount() } catch (t) { l.__e(t, e) } r.base = r.__P = null } if (r = t.__k) for (i = 0; i < r.length; i++)r[i] && H(r[i], e, n); null != o && b(o) } function W(t, e, n) { return this.constructor(t, n) } function B(t, e, n) { var r, o, i; l.__ && l.__(t, e), o = (r = n === d) ? null : n && n.__k || e.__k, t = w(S, null, [t]), i = [], U(e, (r ? e : n || e).__k = t, o || g, g, void 0 !== e.ownerSVGElement, n && !r ? [n] : o ? null : e.childNodes.length ? y.slice.call(e.childNodes) : null, i, n || g, r), j(i, t) } function q() { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function (t) { var e = 16 * Math.random() | 0; return ("x" == t ? e : 3 & e | 8).toString(16) })) } l = { __e: function (t, e) { for (var n, r, o, i = e.__h; e = e.__;)if ((n = e.__c) && !n.__) try { if ((r = n.constructor) && null != r.getDerivedStateFromError && (n.setState(r.getDerivedStateFromError(t)), o = n.__d), null != n.componentDidCatch && (n.componentDidCatch(t), o = n.__d), o) return e.__h = i, n.__E = n } catch (e) { t = e } throw t }, __v: 0 }, p = function (t) { return null != t && void 0 === t.constructor }, x.prototype.setState = function (t, e) { var n; n = null != this.__s && this.__s !== this.state ? this.__s : this.__s = v({}, this.state), "function" == typeof t && (t = t(v({}, n), this.props)), t && v(n, t), null != t && this.__v && (e && this.__h.push(e), N(this)) }, x.prototype.forceUpdate = function (t) { this.__v && (this.__e = !0, t && this.__h.push(t), N(this)) }, x.prototype.render = S, c = [], h = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, T.__r = 0, d = g, _ = 0; var G = function () { function t(t) { this._id = t || q() } return Object.defineProperty(t.prototype, "id", { get: function () { return this._id }, enumerable: !1, configurable: !0 }), t }(), z = { search: { placeholder: "Type a keyword..." }, sort: { sortAsc: "Sort column ascending", sortDesc: "Sort column descending" }, pagination: { previous: "Previous", next: "Next", navigate: function (t, e) { return "Page " + t + " of " + e }, page: function (t) { return "Page " + t }, showing: "Showing", of: "of", to: "to", results: "results" }, loading: "Loading...", noRecordsFound: "No matching records found", error: "An error happened while fetching the data" }, K = function () { function t(t) { this._language = t, this._defaultLanguage = z } return t.prototype.getString = function (t, e) { if (!e || !t) return null; var n = t.split("."), r = n[0]; if (e[r]) { var o = e[r]; return "string" == typeof o ? function () { return o } : "function" == typeof o ? o : this.getString(n.slice(1).join("."), o) } return null }, t.prototype.translate = function (t) { for (var e = [], n = 1; n < arguments.length; n++)e[n - 1] = arguments[n]; var r, o = this.getString(t, this._language); return (r = o || this.getString(t, this._defaultLanguage)) ? r.apply(void 0, e) : t }, t }(), $ = function (t) { function e(e, n) { var r, o = t.call(this, e, n) || this; return o.config = function (t) { if (!t) return null; var e = Object.keys(t); return e.length ? t[e[0]].props.value : null }(n), o.config && (o._ = (r = o.config.translator, function (t) { for (var e = [], n = 1; n < arguments.length; n++)e[n - 1] = arguments[n]; return r.translate.apply(r, u([t], e)) })), o } return o(e, t), e }(x), V = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.render = function () { return w(this.props.parentElement, { dangerouslySetInnerHTML: { __html: this.props.content } }) }, e.defaultProps = { parentElement: "span" }, e }($); function Y(t, e) { return w(V, { content: t, parentElement: e }) } var Q, X = function (t) { function e(e) { var n = t.call(this) || this; return n.update(e), n } return o(e, t), e.prototype.cast = function (t) { return t instanceof HTMLElement ? Y(t.outerHTML) : t }, e.prototype.update = function (t) { return this.data = this.cast(t), this }, e }(G), Z = function (t) { function e(e) { var n = t.call(this) || this; return n.cells = e || [], n } return o(e, t), e.prototype.cell = function (t) { return this._cells[t] }, Object.defineProperty(e.prototype, "cells", { get: function () { return this._cells }, set: function (t) { this._cells = t }, enumerable: !1, configurable: !0 }), e.prototype.toArray = function () { return this.cells.map((function (t) { return t.data })) }, e.fromCells = function (t) { return new e(t.map((function (t) { return new X(t.data) }))) }, Object.defineProperty(e.prototype, "length", { get: function () { return this.cells.length }, enumerable: !1, configurable: !0 }), e }(G), J = function (t) { function e(e) { var n = t.call(this) || this; return n.rows = e instanceof Array ? e : e instanceof Z ? [e] : [], n } return o(e, t), Object.defineProperty(e.prototype, "rows", { get: function () { return this._rows }, set: function (t) { this._rows = t }, enumerable: !1, configurable: !0 }), Object.defineProperty(e.prototype, "length", { get: function () { return this._length || this.rows.length }, set: function (t) { this._length = t }, enumerable: !1, configurable: !0 }), e.prototype.toArray = function () { return this.rows.map((function (t) { return t.toArray() })) }, e.fromRows = function (t) { return new e(t.map((function (t) { return Z.fromCells(t.cells) }))) }, e.fromArray = function (t) { return new e((t = function (t) { return !t[0] || t[0] instanceof Array ? t : [t] }(t)).map((function (t) { return new Z(t.map((function (t) { return new X(t) }))) }))) }, e }(G), tt = function () { function t() { } return t.prototype.init = function (t) { this.callbacks || (this.callbacks = {}), t && !this.callbacks[t] && (this.callbacks[t] = []) }, t.prototype.on = function (t, e) { return this.init(t), this.callbacks[t].push(e), this }, t.prototype.off = function (t, e) { var n = t; return this.init(), this.callbacks[n] && 0 !== this.callbacks[n].length ? (this.callbacks[n] = this.callbacks[n].filter((function (t) { return t != e })), this) : this }, t.prototype.emit = function (t) { for (var e = [], n = 1; n < arguments.length; n++)e[n - 1] = arguments[n]; var r = t; return this.init(r), this.callbacks[r].length > 0 && (this.callbacks[r].forEach((function (t) { return t.apply(void 0, e) })), !0) }, t }(); !function (t) { t[t.Initiator = 0] = "Initiator", t[t.ServerFilter = 1] = "ServerFilter", t[t.ServerSort = 2] = "ServerSort", t[t.ServerLimit = 3] = "ServerLimit", t[t.Extractor = 4] = "Extractor", t[t.Transformer = 5] = "Transformer", t[t.Filter = 6] = "Filter", t[t.Sort = 7] = "Sort", t[t.Limit = 8] = "Limit" }(Q || (Q = {})); var et = function (t) { function e(e) { var n = t.call(this) || this; return n._props = {}, n.id = q(), e && n.setProps(e), n } return o(e, t), e.prototype.process = function () { for (var t = [], e = 0; e < arguments.length; e++)t[e] = arguments[e]; this.validateProps instanceof Function && this.validateProps.apply(this, t), this.emit.apply(this, u(["beforeProcess"], t)); var n = this._process.apply(this, t); return this.emit.apply(this, u(["afterProcess"], t)), n }, e.prototype.setProps = function (t) { return Object.assign(this._props, t), this.emit("propsUpdated", this), this }, Object.defineProperty(e.prototype, "props", { get: function () { return this._props }, enumerable: !1, configurable: !0 }), e }(tt), nt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), Object.defineProperty(e.prototype, "type", { get: function () { return Q.Filter }, enumerable: !1, configurable: !0 }), e.prototype._process = function (t) { return this.props.keyword ? (e = String(this.props.keyword).trim(), n = t, r = this.props.selector, e = e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"), new J(n.rows.filter((function (t, n) { return t.cells.some((function (t, o) { if (!t) return !1; var i = ""; if ("function" == typeof r) i = r(t.data, n, o); else if ("object" == typeof t.data) { var s = t.data; s && s.props && s.props.content && (i = s.props.content) } else i = String(t.data); return new RegExp(e, "gi").test(i) })) })))) : t; var e, n, r }, e }(et); function rt() { for (var t = [], e = 0; e < arguments.length; e++)t[e] = arguments[e]; var n = "gridjs"; return "" + n + t.reduce((function (t, e) { return t + "-" + e }), "") } function ot() { for (var t = [], e = 0; e < arguments.length; e++)t[e] = arguments[e]; return t.filter((function (t) { return t })).reduce((function (t, e) { return (t || "") + " " + e }), "").trim() || null } var it, st = function (t) { function e(e) { var n = t.call(this) || this; return n.dispatcher = e, n._state = n.getInitialState(), e.register(n._handle.bind(n)), n } return o(e, t), e.prototype._handle = function (t) { this.handle(t.type, t.payload) }, e.prototype.setState = function (t) { var e = this._state; this._state = t, this.emit("updated", t, e) }, Object.defineProperty(e.prototype, "state", { get: function () { return this._state }, enumerable: !1, configurable: !0 }), e }(tt), at = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.getInitialState = function () { return { keyword: null } }, e.prototype.handle = function (t, e) { if ("SEARCH_KEYWORD" === t) { var n = e.keyword; this.search(n) } }, e.prototype.search = function (t) { this.setState({ keyword: t }) }, e }(st), ut = function () { function t(t) { this.dispatcher = t } return t.prototype.dispatch = function (t, e) { this.dispatcher.dispatch({ type: t, payload: e }) }, t }(), lt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.search = function (t) { this.dispatch("SEARCH_KEYWORD", { keyword: t }) }, e }(ut), pt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), Object.defineProperty(e.prototype, "type", { get: function () { return Q.ServerFilter }, enumerable: !1, configurable: !0 }), e.prototype._process = function (t) { if (!this.props.keyword) return t; var e = {}; return this.props.url && (e.url = this.props.url(t.url, this.props.keyword)), this.props.body && (e.body = this.props.body(t.body, this.props.keyword)), i(i({}, t), e) }, e }(et), ct = new (function () { function t() { } return t.prototype.format = function (t, e) { return "[Grid.js] [" + e.toUpperCase() + "]: " + t }, t.prototype.error = function (t, e) { void 0 === e && (e = !1); var n = this.format(t, "error"); if (e) throw Error(n); console.error(n) }, t.prototype.warn = function (t) { console.warn(this.format(t, "warn")) }, t.prototype.info = function (t) { console.info(this.format(t, "info")) }, t }()), ht = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e }($); !function (t) { t[t.Header = 0] = "Header", t[t.Footer = 1] = "Footer", t[t.Cell = 2] = "Cell" }(it || (it = {})); var ft = function () { function t() { this.plugins = [] } return t.prototype.get = function (t) { var e = this.plugins.filter((function (e) { return e.id === t })); return e.length > 0 ? e[0] : null }, t.prototype.add = function (t) { return t.id ? null !== this.get(t.id) ? (ct.error("Duplicate plugin ID: " + t.id), this) : (this.plugins.push(t), this) : (ct.error("Plugin ID cannot be empty"), this) }, t.prototype.remove = function (t) { return this.plugins.splice(this.plugins.indexOf(this.get(t)), 1), this }, t.prototype.list = function (t) { return (null != t || null != t ? this.plugins.filter((function (e) { return e.position === t })) : this.plugins).sort((function (t, e) { return t.order - e.order })) }, t }(), dt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.render = function () { var t = this; if (this.props.pluginId) { var e = this.config.plugin.get(this.props.pluginId); return e ? w(S, {}, w(e.component, i(i({ plugin: e }, e.props), this.props.props))) : null } return void 0 !== this.props.position ? w(S, {}, this.config.plugin.list(this.props.position).map((function (e) { return w(e.component, i(i({ plugin: e }, e.props), t.props.props)) }))) : null }, e }($), _t = function (t) { function e(e, n) { var r = t.call(this, e, n) || this; r.actions = new lt(r.config.dispatcher), r.store = new at(r.config.dispatcher); var o = e.enabled, i = e.keyword; if (o) { i && r.actions.search(i), r.storeUpdatedFn = r.storeUpdated.bind(r), r.store.on("updated", r.storeUpdatedFn); var s; s = e.server ? new pt({ keyword: e.keyword, url: e.server.url, body: e.server.body }) : new nt({ keyword: e.keyword, selector: e.selector }), r.searchProcessor = s, r.config.pipeline.register(s) } return r } return o(e, t), e.prototype.componentWillUnmount = function () { this.config.pipeline.unregister(this.searchProcessor), this.store.off("updated", this.storeUpdatedFn) }, e.prototype.storeUpdated = function (t) { this.searchProcessor.setProps({ keyword: t.keyword }) }, e.prototype.onChange = function (t) { var e = t.target.value; this.actions.search(e) }, e.prototype.render = function () { if (!this.props.enabled) return null; var t, e, n, r = this.onChange.bind(this); return this.searchProcessor instanceof pt && (t = r, e = this.props.debounceTimeout, r = function () { for (var r = [], o = 0; o < arguments.length; o++)r[o] = arguments[o]; return new Promise((function (o) { n && clearTimeout(n), n = setTimeout((function () { return o(t.apply(void 0, r)) }), e) })) }), w("div", { className: rt(ot("search", this.config.className.search)) }, w("input", { type: "search", placeholder: this._("search.placeholder"), "aria-label": this._("search.placeholder"), onInput: r, className: ot(rt("input"), rt("search", "input")), value: this.store.state.keyword })) }, e.defaultProps = { debounceTimeout: 250 }, e }(ht), gt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.validateProps = function () { if (isNaN(Number(this.props.limit)) || isNaN(Number(this.props.page))) throw Error("Invalid parameters passed") }, Object.defineProperty(e.prototype, "type", { get: function () { return Q.Limit }, enumerable: !1, configurable: !0 }), e.prototype._process = function (t) { var e = this.props.page, n = e * this.props.limit, r = (e + 1) * this.props.limit; return new J(t.rows.slice(n, r)) }, e }(et), yt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), Object.defineProperty(e.prototype, "type", { get: function () { return Q.ServerLimit }, enumerable: !1, configurable: !0 }), e.prototype._process = function (t) { var e = {}; return this.props.url && (e.url = this.props.url(t.url, this.props.page, this.props.limit)), this.props.body && (e.body = this.props.body(t.body, this.props.page, this.props.limit)), i(i({}, t), e) }, e }(et), mt = function (t) { function e(e, n) { var r = t.call(this, e, n) || this; return r.state = { limit: e.limit, page: e.page || 0, total: 0 }, r } return o(e, t), e.prototype.componentWillMount = function () { var t = this; if (this.props.enabled) { var e = void 0; this.setTotalFromTabularFn = this.setTotalFromTabular.bind(this), this.props.server ? (e = new yt({ limit: this.state.limit, page: this.state.page, url: this.props.server.url, body: this.props.server.body }), this.config.pipeline.on("afterProcess", this.setTotalFromTabularFn)) : (e = new gt({ limit: this.state.limit, page: this.state.page })).on("beforeProcess", this.setTotalFromTabularFn), this.processor = e, this.config.pipeline.register(e), this.config.pipeline.on("error", (function () { t.setState({ total: 0, page: 0 }) })) } }, e.prototype.setTotalFromTabular = function (t) { this.setTotal(t.length) }, e.prototype.onUpdate = function (t) { this.props.resetPageOnUpdate && t !== this.processor && this.setPage(0) }, e.prototype.componentDidMount = function () { this.onUpdateFn = this.onUpdate.bind(this), this.config.pipeline.on("updated", this.onUpdateFn) }, e.prototype.componentWillUnmount = function () { this.config.pipeline.unregister(this.processor), this.config.pipeline.off("updated", this.onUpdateFn) }, Object.defineProperty(e.prototype, "pages", { get: function () { return Math.ceil(this.state.total / this.state.limit) }, enumerable: !1, configurable: !0 }), e.prototype.setPage = function (t) { if (t >= this.pages || t < 0 || t === this.state.page) return null; this.setState({ page: t }), this.processor.setProps({ page: t }) }, e.prototype.setTotal = function (t) { this.setState({ total: t }) }, e.prototype.renderPages = function () { var t = this; if (this.props.buttonsCount <= 0) return null; var e = Math.min(this.pages, this.props.buttonsCount), n = Math.min(this.state.page, Math.floor(e / 2)); return this.state.page + Math.floor(e / 2) >= this.pages && (n = e - (this.pages - this.state.page)), w(S, null, this.pages > e && this.state.page - n > 0 && w(S, null, w("button", { tabIndex: 0, role: "button", onClick: this.setPage.bind(this, 0), title: this._("pagination.firstPage"), "aria-label": this._("pagination.firstPage"), className: this.config.className.paginationButton }, this._("1")), w("button", { tabIndex: -1, className: ot(rt("spread"), this.config.className.paginationButton) }, "...")), Array.from(Array(e).keys()).map((function (e) { return t.state.page + (e - n) })).map((function (e) { return w("button", { tabIndex: 0, role: "button", onClick: t.setPage.bind(t, e), className: ot(t.state.page === e ? ot(rt("currentPage"), t.config.className.paginationButtonCurrent) : null, t.config.className.paginationButton), title: t._("pagination.page", e + 1), "aria-label": t._("pagination.page", e + 1) }, t._("" + (e + 1))) })), this.pages > e && this.pages > this.state.page + n + 1 && w(S, null, w("button", { tabIndex: -1, className: ot(rt("spread"), this.config.className.paginationButton) }, "..."), w("button", { tabIndex: 0, role: "button", onClick: this.setPage.bind(this, this.pages - 1), title: this._("pagination.page", this.pages), "aria-label": this._("pagination.page", this.pages), className: this.config.className.paginationButton }, this._("" + this.pages)))) }, e.prototype.renderSummary = function () { return w(S, null, this.props.summary && this.state.total > 0 && w("div", { role: "status", "aria-live": "polite", className: ot(rt("summary"), this.config.className.paginationSummary), title: this._("pagination.navigate", this.state.page + 1, this.pages) }, this._("pagination.showing"), " ", w("b", null, this._("" + (this.state.page * this.state.limit + 1))), " ", this._("pagination.to"), " ", w("b", null, this._("" + Math.min((this.state.page + 1) * this.state.limit, this.state.total))), " ", this._("pagination.of"), " ", w("b", null, this._("" + this.state.total)), " ", this._("pagination.results"))) }, e.prototype.render = function () { return this.props.enabled ? w("div", { className: ot(rt("pagination"), this.config.className.pagination) }, this.renderSummary(), w("div", { className: rt("pages") }, this.props.prevButton && w("button", { tabIndex: 0, role: "button", disabled: 0 === this.state.page, onClick: this.setPage.bind(this, this.state.page - 1), title: this._("pagination.previous"), "aria-label": this._("pagination.previous"), className: ot(this.config.className.paginationButton, this.config.className.paginationButtonPrev) }, this._("pagination.previous")), this.renderPages(), this.props.nextButton && w("button", { tabIndex: 0, role: "button", disabled: this.pages === this.state.page + 1 || 0 === this.pages, onClick: this.setPage.bind(this, this.state.page + 1), title: this._("pagination.next"), "aria-label": this._("pagination.next"), className: ot(this.config.className.paginationButton, this.config.className.paginationButtonNext) }, this._("pagination.next")))) : null }, e.defaultProps = { summary: !0, nextButton: !0, prevButton: !0, buttonsCount: 3, limit: 10, resetPageOnUpdate: !0 }, e }(ht); function vt(t, e) { return "string" == typeof t ? t.indexOf("%") > -1 ? e / 100 * parseInt(t, 10) : parseInt(t, 10) : t } function bt(t) { return t ? Math.floor(t) + "px" : "" } function wt(t, e) { if (!t) return null; var n = t.querySelector('thead th[data-column-id="' + e + '"]'); return n ? n.clientWidth : null } var Pt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.render = function () { if (this.props.tableRef.current) { var t = this.props.tableRef.current.base.cloneNode(!0); return t.className += " " + rt("shadowTable"), t.style.position = "absolute", t.style.zIndex = "-2147483640", t.style.visibility = "hidden", t.style.tableLayout = "auto", t.style.width = "auto", t.style.padding = "0", t.style.margin = "0", t.style.border = "none", t.style.outline = "none", w("div", { ref: function (e) { e && e.appendChild(t) } }) } return null }, e }($); function St(t) { if (!t) return ""; var e = t.split(" "); return 1 === e.length && /([a-z][A-Z])+/g.test(t) ? t : e.map((function (t, e) { return 0 == e ? t.toLowerCase() : t.charAt(0).toUpperCase() + t.slice(1).toLowerCase() })).join("") } var xt, kt = function (t) { function e() { var e = t.call(this) || this; return e._columns = [], e } return o(e, t), Object.defineProperty(e.prototype, "columns", { get: function () { return this._columns }, set: function (t) { this._columns = t }, enumerable: !1, configurable: !0 }), e.prototype.adjustWidth = function (t, n, r, o) { if (void 0 === o && (o = !0), !t) return this; var i = t.clientWidth, s = { current: null }; if (n.current && o) { var a = w(Pt, { tableRef: n }); a.ref = s, B(a, r.current) } for (var u = 0, l = e.tabularFormat(this.columns).reduce((function (t, e) { return t.concat(e) }), []); u < l.length; u++) { var p = l[u]; p.columns && p.columns.length > 0 || (!p.width && o ? p.width = bt(wt(s.current.base, p.id)) : p.width = bt(vt(p.width, i))) } return n.current && o && B(null, r.current), this }, e.prototype.setSort = function (t, e) { for (var n = 0, r = e || this.columns || []; n < r.length; n++) { var o = r[n]; o.columns && o.columns.length > 0 && (o.sort = { enabled: !1 }), void 0 === o.sort && t.sort && (o.sort = { enabled: !0 }), o.sort ? "object" == typeof o.sort && (o.sort = i({ enabled: !0 }, o.sort)) : o.sort = { enabled: !1 }, o.columns && this.setSort(t, o.columns) } }, e.prototype.setFixedHeader = function (t, e) { for (var n = 0, r = e || this.columns || []; n < r.length; n++) { var o = r[n]; void 0 === o.fixedHeader && (o.fixedHeader = t.fixedHeader), o.columns && this.setFixedHeader(t, o.columns) } }, e.prototype.setID = function (t) { for (var e = 0, n = t || this.columns || []; e < n.length; e++) { var r = n[e]; r.id || "string" != typeof r.name || (r.id = St(r.name)), r.id || ct.error('Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.'), r.columns && this.setID(r.columns) } }, e.prototype.populatePlugins = function (t, e) { for (var n = 0, r = e; n < r.length; n++) { var o = r[n]; void 0 !== o.plugin && t.plugin.add(i(i({ id: o.id, props: {} }, o.plugin), { position: it.Cell })) } }, e.fromColumns = function (t) { for (var n = new e, r = 0, o = t; r < o.length; r++) { var i = o[r]; if ("string" == typeof i || p(i)) n.columns.push({ name: i }); else if ("object" == typeof i) { var s = i; s.columns && (s.columns = e.fromColumns(s.columns).columns), "object" == typeof s.plugin && void 0 === s.data && (s.data = null), n.columns.push(i) } } return n }, e.fromUserConfig = function (t) { var n = new e; return t.from ? n.columns = e.fromHTMLTable(t.from).columns : t.columns ? n.columns = e.fromColumns(t.columns).columns : !t.data || "object" != typeof t.data[0] || t.data[0] instanceof Array || (n.columns = Object.keys(t.data[0]).map((function (t) { return { name: t } }))), n.columns.length ? (n.setID(), n.setSort(t), n.setFixedHeader(t), n.populatePlugins(t, n.columns), n) : null }, e.fromHTMLTable = function (t) { for (var n = new e, r = 0, o = t.querySelector("thead").querySelectorAll("th"); r < o.length; r++) { var i = o[r]; n.columns.push({ name: i.innerHTML, width: i.width }) } return n }, e.tabularFormat = function (t) { var e = [], n = t || [], r = []; if (n && n.length) { e.push(n); for (var o = 0, i = n; o < i.length; o++) { var s = i[o]; s.columns && s.columns.length && (r = r.concat(s.columns)) } r.length && (e = e.concat(this.tabularFormat(r))) } return e }, e.leafColumns = function (t) { var e = [], n = t || []; if (n && n.length) for (var r = 0, o = n; r < o.length; r++) { var i = o[r]; i.columns && 0 !== i.columns.length || e.push(i), i.columns && (e = e.concat(this.leafColumns(i.columns))) } return e }, e.maximumDepth = function (t) { return this.tabularFormat([t]).length - 1 }, e }(G), Ct = function () { function t() { this._callbacks = {}, this._isDispatching = !1, this._isHandled = {}, this._isPending = {}, this._lastID = 1 } return t.prototype.register = function (t) { var e = "ID_" + this._lastID++; return this._callbacks[e] = t, e }, t.prototype.unregister = function (t) { if (!this._callbacks[t]) throw Error("Dispatcher.unregister(...): " + t + " does not map to a registered callback."); delete this._callbacks[t] }, t.prototype.waitFor = function (t) { if (!this._isDispatching) throw Error("Dispatcher.waitFor(...): Must be invoked while dispatching."); for (var e = 0; e < t.length; e++) { var n = t[e]; if (this._isPending[n]) { if (!this._isHandled[n]) throw Error("Dispatcher.waitFor(...): Circular dependency detected while ' +\n            'waiting for " + n + ".") } else { if (!this._callbacks[n]) throw Error("Dispatcher.waitFor(...): " + n + " does not map to a registered callback."); this._invokeCallback(n) } } }, t.prototype.dispatch = function (t) { if (this._isDispatching) throw Error("Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."); this._startDispatching(t); try { for (var e in this._callbacks) this._isPending[e] || this._invokeCallback(e) } finally { this._stopDispatching() } }, t.prototype.isDispatching = function () { return this._isDispatching }, t.prototype._invokeCallback = function (t) { this._isPending[t] = !0, this._callbacks[t](this._pendingPayload), this._isHandled[t] = !0 }, t.prototype._startDispatching = function (t) { for (var e in this._callbacks) this._isPending[e] = !1, this._isHandled[e] = !1; this._pendingPayload = t, this._isDispatching = !0 }, t.prototype._stopDispatching = function () { delete this._pendingPayload, this._isDispatching = !1 }, t }(), Nt = function () { }, Tt = function (t) { function e(e) { var n = t.call(this) || this; return n.set(e), n } return o(e, t), e.prototype.get = function () { return s(this, void 0, void 0, (function () { var t; return a(this, (function (e) { switch (e.label) { case 0: return [4, this.data()]; case 1: return [2, { data: t = e.sent(), total: t.length }] } })) })) }, e.prototype.set = function (t) { return t instanceof Array ? this.data = function () { return t } : t instanceof Function && (this.data = t), this }, e }(Nt), Ft = function (t) { function e(e) { var n = t.call(this) || this; return n.options = e, n } return o(e, t), e.prototype.handler = function (t) { return "function" == typeof this.options.handle ? this.options.handle(t) : t.ok ? t.json() : (ct.error("Could not fetch data: " + t.status + " - " + t.statusText, !0), null) }, e.prototype.get = function (t) { var e = i(i({}, this.options), t); return "function" == typeof e.data ? e.data(e) : fetch(e.url, e).then(this.handler.bind(this)).then((function (t) { return { data: e.then(t), total: "function" == typeof e.total ? e.total(t) : void 0 } })) }, e }(Nt), Ot = function () { function t() { } return t.createFromUserConfig = function (t) { var e = null; return t.data && (e = new Tt(t.data)), t.from && (e = new Tt(this.tableElementToArray(t.from)), t.from.style.display = "none"), t.server && (e = new Ft(t.server)), e || ct.error("Could not determine the storage type", !0), e }, t.tableElementToArray = function (t) { for (var e, n = [], r = 0, o = t.querySelector("tbody").querySelectorAll("tr"); r < o.length; r++) { for (var i = [], s = 0, a = o[r].querySelectorAll("td"); s < a.length; s++) { var u = a[s]; 1 === u.childNodes.length && u.childNodes[0].nodeType === Node.TEXT_NODE ? i.push((e = u.innerHTML, (new DOMParser).parseFromString(e, "text/html").documentElement.textContent)) : i.push(Y(u.innerHTML)) } n.push(i) } return n }, t }(), Dt = function (t) { function e(e) { var n = t.call(this) || this; return n._steps = new Map, n.cache = new Map, n.lastProcessorIndexUpdated = -1, e && e.forEach((function (t) { return n.register(t) })), n } return o(e, t), e.prototype.clearCache = function () { this.cache = new Map, this.lastProcessorIndexUpdated = -1 }, e.prototype.register = function (t, e) { if (void 0 === e && (e = null), null === t.type) throw Error("Processor type is not defined"); t.on("propsUpdated", this.processorPropsUpdated.bind(this)), this.addProcessorByPriority(t, e), this.afterRegistered(t) }, e.prototype.unregister = function (t) { if (t) { var e = this._steps.get(t.type); e && e.length && (this._steps.set(t.type, e.filter((function (e) { return e != t }))), this.emit("updated", t)) } }, e.prototype.addProcessorByPriority = function (t, e) { var n = this._steps.get(t.type); if (!n) { var r = []; this._steps.set(t.type, r), n = r } if (null === e || e < 0) n.push(t); else if (n[e]) { var o = n.slice(0, e - 1), i = n.slice(e + 1); this._steps.set(t.type, o.concat(t).concat(i)) } else n[e] = t }, Object.defineProperty(e.prototype, "steps", { get: function () { for (var t = [], e = 0, n = this.getSortedProcessorTypes(); e < n.length; e++) { var r = n[e], o = this._steps.get(r); o && o.length && (t = t.concat(o)) } return t.filter((function (t) { return t })) }, enumerable: !1, configurable: !0 }), e.prototype.getStepsByType = function (t) { return this.steps.filter((function (e) { return e.type === t })) }, e.prototype.getSortedProcessorTypes = function () { return Object.keys(Q).filter((function (t) { return !isNaN(Number(t)) })).map((function (t) { return Number(t) })) }, e.prototype.process = function (t) { return s(this, void 0, void 0, (function () { var e, n, r, o, i, s, u; return a(this, (function (a) { switch (a.label) { case 0: e = this.lastProcessorIndexUpdated, n = this.steps, r = t, a.label = 1; case 1: a.trys.push([1, 7, , 8]), o = 0, i = n, a.label = 2; case 2: return o < i.length ? (s = i[o], this.findProcessorIndexByID(s.id) >= e ? [4, s.process(r)] : [3, 4]) : [3, 6]; case 3: return r = a.sent(), this.cache.set(s.id, r), [3, 5]; case 4: r = this.cache.get(s.id), a.label = 5; case 5: return o++, [3, 2]; case 6: return [3, 8]; case 7: throw u = a.sent(), ct.error(u), this.emit("error", r), u; case 8: return this.lastProcessorIndexUpdated = n.length, this.emit("afterProcess", r), [2, r] } })) })) }, e.prototype.findProcessorIndexByID = function (t) { return this.steps.findIndex((function (e) { return e.id == t })) }, e.prototype.setLastProcessorIndex = function (t) { var e = this.findProcessorIndexByID(t.id); this.lastProcessorIndexUpdated > e && (this.lastProcessorIndexUpdated = e) }, e.prototype.processorPropsUpdated = function (t) { this.setLastProcessorIndex(t), this.emit("propsUpdated"), this.emit("updated", t) }, e.prototype.afterRegistered = function (t) { this.setLastProcessorIndex(t), this.emit("afterRegister"), this.emit("updated", t) }, e }(tt), Et = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), Object.defineProperty(e.prototype, "type", { get: function () { return Q.Extractor }, enumerable: !1, configurable: !0 }), e.prototype._process = function (t) { return s(this, void 0, void 0, (function () { return a(this, (function (e) { switch (e.label) { case 0: return [4, this.props.storage.get(t)]; case 1: return [2, e.sent()] } })) })) }, e }(et), It = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), Object.defineProperty(e.prototype, "type", { get: function () { return Q.Transformer }, enumerable: !1, configurable: !0 }), e.prototype._process = function (t) { var e = J.fromArray(t.data); return e.length = t.total, e }, e }(et), Lt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), Object.defineProperty(e.prototype, "type", { get: function () { return Q.Initiator }, enumerable: !1, configurable: !0 }), e.prototype._process = function () { return Object.entries(this.props.serverStorageOptions).filter((function (t) { return t[0], "function" != typeof t[1] })).reduce((function (t, e) { var n, r = e[0], o = e[1]; return i(i({}, t), ((n = {})[r] = o, n)) }), {}) }, e }(et), Rt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), Object.defineProperty(e.prototype, "type", { get: function () { return Q.Transformer }, enumerable: !1, configurable: !0 }), e.prototype.castData = function (t) { if (!t || !t.length) return []; if (!this.props.header || !this.props.header.columns) return t; var e = kt.leafColumns(this.props.header.columns); return t[0] instanceof Array ? t.map((function (t) { var n = 0; return e.map((function (e, r) { return void 0 !== e.data ? (n++, "function" == typeof e.data ? e.data(t) : e.data) : t[r - n] })) })) : "object" != typeof t[0] || t[0] instanceof Array ? [] : t.map((function (t) { return e.map((function (e, n) { return void 0 !== e.data ? "function" == typeof e.data ? e.data(t) : e.data : e.id ? t[e.id] : (ct.error("Could not find the correct cell for column at position " + n + ".\n                          Make sure either 'id' or 'selector' is defined for all columns."), null) })) })) }, e.prototype._process = function (t) { return { data: this.castData(t.data), total: t.total } }, e }(et), Ut = function () { function t() { } return t.createFromConfig = function (t) { var e = new Dt; return t.storage instanceof Ft && e.register(new Lt({ serverStorageOptions: t.server })), e.register(new Et({ storage: t.storage })), e.register(new Rt({ header: t.header })), e.register(new It), e }, t }(), jt = function () { function t(e) { Object.assign(this, i(i({}, t.defaultConfig()), e)), this._userConfig = {} } return t.prototype.assign = function (t) { for (var e = 0, n = Object.keys(t); e < n.length; e++) { var r = n[e]; "_userConfig" !== r && (this[r] = t[r]) } return this }, t.prototype.update = function (e) { return e ? (this._userConfig = i(i({}, this._userConfig), e), this.assign(t.fromUserConfig(this._userConfig)), this) : this }, t.defaultConfig = function () { return { plugin: new ft, dispatcher: new Ct, tableRef: { current: null }, tempRef: { current: null }, width: "100%", height: "auto", autoWidth: !0, style: {}, className: {} } }, t.fromUserConfig = function (e) { var n = new t(e); return n._userConfig = e, "boolean" == typeof e.sort && e.sort && n.assign({ sort: { multiColumn: !0 } }), n.assign({ header: kt.fromUserConfig(n) }), n.assign({ storage: Ot.createFromUserConfig(e) }), n.assign({ pipeline: Ut.createFromConfig(n) }), n.assign({ translator: new K(e.language) }), n.plugin.add({ id: "search", position: it.Header, component: _t, props: i({ enabled: !0 === e.search || e.search instanceof Object }, e.search) }), n.plugin.add({ id: "pagination", position: it.Footer, component: mt, props: i({ enabled: !0 === e.pagination || e.pagination instanceof Object }, e.pagination) }), e.plugins && e.plugins.forEach((function (t) { return n.plugin.add(t) })), n }, t }(); !function (t) { t[t.Init = 0] = "Init", t[t.Loading = 1] = "Loading", t[t.Loaded = 2] = "Loaded", t[t.Rendered = 3] = "Rendered", t[t.Error = 4] = "Error" }(xt || (xt = {})); var At, Mt, Ht = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.content = function () { return this.props.column && "function" == typeof this.props.column.formatter ? this.props.column.formatter(this.props.cell.data, this.props.row, this.props.column) : this.props.column && this.props.column.plugin ? w(dt, { pluginId: this.props.column.id, props: { column: this.props.column, cell: this.props.cell, row: this.props.row } }) : this.props.cell.data }, e.prototype.handleClick = function (t) { this.props.messageCell || this.config.eventEmitter.emit("cellClick", t, this.props.cell, this.props.column, this.props.row) }, e.prototype.getCustomAttributes = function (t) { return t ? "function" == typeof t.attributes ? t.attributes(this.props.cell.data, this.props.row, this.props.column) : t.attributes : {} }, e.prototype.render = function () { return w("td", i({ role: this.props.role, colSpan: this.props.colSpan, "data-column-id": this.props.column && this.props.column.id, className: ot(rt("td"), this.props.className, this.config.className.td), style: i(i({}, this.props.style), this.config.style.td), onClick: this.handleClick.bind(this) }, this.getCustomAttributes(this.props.column)), this.content()) }, e }($), Wt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.getColumn = function (t) { if (this.props.header) { var e = kt.leafColumns(this.props.header.columns); if (e) return e[t] } return null }, e.prototype.handleClick = function (t) { this.props.messageRow || this.config.eventEmitter.emit("rowClick", t, this.props.row) }, e.prototype.getChildren = function () { var t = this; return this.props.children ? this.props.children : w(S, null, this.props.row.cells.map((function (e, n) { var r = t.getColumn(n); return r && r.hidden ? null : w(Ht, { key: e.id, cell: e, row: t.props.row, column: r }) }))) }, e.prototype.render = function () { return w("tr", { className: rt("tr"), onClick: this.handleClick.bind(this) }, this.getChildren()) }, e }($), Bt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.render = function () { return w(Wt, { messageRow: !0 }, w(Ht, { role: "alert", colSpan: this.props.colSpan, messageCell: !0, cell: new X(this.props.message), className: ot(rt("message"), this.props.className ? this.props.className : null) })) }, e }($), qt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.headerLength = function () { return this.props.header ? this.props.header.columns.length : 0 }, e.prototype.render = function () { var t = this; return w("tbody", { className: ot(rt("tbody"), this.config.className.tbody) }, this.props.data && this.props.data.rows.map((function (e) { return w(Wt, { key: e.id, row: e, header: t.props.header }) })), this.props.status === xt.Loading && (!this.props.data || 0 === this.props.data.length) && w(Bt, { message: this._("loading"), colSpan: this.headerLength(), className: ot(rt("loading"), this.config.className.loading) }), this.props.status === xt.Rendered && this.props.data && 0 === this.props.data.length && w(Bt, { message: this._("noRecordsFound"), colSpan: this.headerLength(), className: ot(rt("notfound"), this.config.className.notfound) }), this.props.status === xt.Error && w(Bt, { message: this._("error"), colSpan: this.headerLength(), className: ot(rt("error"), this.config.className.error) })) }, e }($), Gt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.validateProps = function () { for (var t = 0, e = this.props.columns; t < e.length; t++) { var n = e[t]; void 0 === n.direction && (n.direction = 1), 1 !== n.direction && -1 !== n.direction && ct.error("Invalid sort direction " + n.direction) } }, Object.defineProperty(e.prototype, "type", { get: function () { return Q.Sort }, enumerable: !1, configurable: !0 }), e.prototype.compare = function (t, e) { return t > e ? 1 : t < e ? -1 : 0 }, e.prototype.compareWrapper = function (t, e) { for (var n = 0, r = 0, o = this.props.columns; r < o.length; r++) { var i = o[r]; if (0 !== n) break; var s = t.cells[i.index].data, a = e.cells[i.index].data; "function" == typeof i.compare ? n |= i.compare(s, a) * i.direction : n |= this.compare(s, a) * i.direction } return n }, e.prototype._process = function (t) { var e = u(t.rows); e.sort(this.compareWrapper.bind(this)); var n = new J(e); return n.length = t.length, n }, e }(et), zt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.getInitialState = function () { return [] }, e.prototype.handle = function (t, e) { if ("SORT_COLUMN" === t) { var n = e.index, r = e.direction, o = e.multi, i = e.compare; this.sortColumn(n, r, o, i) } else "SORT_COLUMN_TOGGLE" === t && (n = e.index, o = e.multi, i = e.compare, this.sortToggle(n, o, i)) }, e.prototype.sortToggle = function (t, e, n) { var r = u(this.state).find((function (e) { return e.index === t })); r ? this.sortColumn(t, 1 === r.direction ? -1 : 1, e, n) : this.sortColumn(t, 1, e, n) }, e.prototype.sortColumn = function (t, e, n, r) { var o = u(this.state), i = o.length, s = o.find((function (e) { return e.index === t })), a = !1, l = !1, p = !1, c = !1; if (void 0 !== s ? n ? -1 === s.direction ? p = !0 : c = !0 : 1 === i ? c = !0 : i > 1 && (l = !0, a = !0) : 0 === i ? a = !0 : i > 0 && !n ? (a = !0, l = !0) : i > 0 && n && (a = !0), l && (o = []), a) o.push({ index: t, direction: e, compare: r }); else if (c) { var h = o.indexOf(s); o[h].direction = e } else if (p) { var f = o.indexOf(s); o.splice(f, 1) } this.setState(o) }, e }(st), Kt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.sortColumn = function (t, e, n, r) { this.dispatch("SORT_COLUMN", { index: t, direction: e, multi: n, compare: r }) }, e.prototype.sortToggle = function (t, e, n) { this.dispatch("SORT_COLUMN_TOGGLE", { index: t, multi: e, compare: n }) }, e }(ut), $t = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), Object.defineProperty(e.prototype, "type", { get: function () { return Q.ServerSort }, enumerable: !1, configurable: !0 }), e.prototype._process = function (t) { var e = {}; return this.props.url && (e.url = this.props.url(t.url, this.props.columns)), this.props.body && (e.body = this.props.body(t.body, this.props.columns)), i(i({}, t), e) }, e }(et), Vt = function (t) { function e(e, n) { var r = t.call(this, e, n) || this; return r.actions = new Kt(r.config.dispatcher), r.store = new zt(r.config.dispatcher), e.enabled && (r.sortProcessor = r.getOrCreateSortProcessor(), r.updateStateFn = r.updateState.bind(r), r.store.on("updated", r.updateStateFn), r.state = { direction: 0 }), r } return o(e, t), e.prototype.componentWillUnmount = function () { this.config.pipeline.unregister(this.sortProcessor), this.store.off("updated", this.updateStateFn), this.updateSortProcessorFn && this.store.off("updated", this.updateSortProcessorFn) }, e.prototype.updateState = function () { var t = this, e = this.store.state.find((function (e) { return e.index === t.props.index })); e ? this.setState({ direction: e.direction }) : this.setState({ direction: 0 }) }, e.prototype.updateSortProcessor = function (t) { this.sortProcessor.setProps({ columns: t }) }, e.prototype.getOrCreateSortProcessor = function () { var t = Q.Sort; this.config.sort && "object" == typeof this.config.sort.server && (t = Q.ServerSort); var e, n = this.config.pipeline.getStepsByType(t); return n.length > 0 ? e = n[0] : (this.updateSortProcessorFn = this.updateSortProcessor.bind(this), this.store.on("updated", this.updateSortProcessorFn), e = t === Q.ServerSort ? new $t(i({ columns: this.store.state }, this.config.sort.server)) : new Gt({ columns: this.store.state }), this.config.pipeline.register(e)), e }, e.prototype.changeDirection = function (t) { t.preventDefault(), t.stopPropagation(), this.actions.sortToggle(this.props.index, !0 === t.shiftKey && this.config.sort.multiColumn, this.props.compare) }, e.prototype.render = function () { if (!this.props.enabled) return null; var t = this.state.direction, e = "neutral"; return 1 === t ? e = "asc" : -1 === t && (e = "desc"), w("button", { tabIndex: -1, "aria-label": this._("sort.sort" + (1 === t ? "Desc" : "Asc")), title: this._("sort.sort" + (1 === t ? "Desc" : "Asc")), className: ot(rt("sort"), rt("sort", e), this.config.className.sort), onClick: this.changeDirection.bind(this) }) }, e }($), Yt = function (t) { function e(e, n) { var r = t.call(this, e, n) || this; return r.sortRef = { current: null }, r.thRef = { current: null }, r.state = { style: {} }, r } return o(e, t), e.prototype.isSortable = function () { return this.props.column.sort.enabled }, e.prototype.onClick = function (t) { t.stopPropagation(), this.isSortable() && this.sortRef.current.changeDirection(t) }, e.prototype.keyDown = function (t) { this.isSortable() && 13 === t.which && this.onClick(t) }, e.prototype.componentDidMount = function () { var t = this; setTimeout((function () { if (t.props.column.fixedHeader && t.thRef.current) { var e = t.thRef.current.offsetTop; "number" == typeof e && t.setState({ style: { top: e } }) } }), 0) }, e.prototype.content = function () { return void 0 !== this.props.column.name ? this.props.column.name : void 0 !== this.props.column.plugin ? w(dt, { pluginId: this.props.column.plugin.id, props: { column: this.props.column } }) : null }, e.prototype.render = function () { var t = {}; return this.isSortable() && (t.tabIndex = 0), w("th", i({ ref: this.thRef, "data-column-id": this.props.column && this.props.column.id, className: ot(rt("th"), this.isSortable() ? rt("th", "sort") : null, this.props.column.fixedHeader ? rt("th", "fixed") : null, this.config.className.th), onClick: this.onClick.bind(this), style: i(i(i(i({}, this.config.style.th), { width: this.props.column.width }), this.state.style), this.props.style), onKeyDown: this.keyDown.bind(this), rowSpan: this.props.rowSpan > 1 ? this.props.rowSpan : void 0, colSpan: this.props.colSpan > 1 ? this.props.colSpan : void 0 }, t), this.content(), this.isSortable() && w(Vt, i({ ref: this.sortRef, index: this.props.index }, this.props.column.sort))) }, e }($), Qt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.renderColumn = function (t, e, n, r) { var o = function (t, e, n) { var r = kt.maximumDepth(t), o = n - e; return { rowSpan: Math.floor(o - r - r / o), colSpan: t.columns && t.columns.length || 1 } }(t, e, r), i = o.rowSpan, s = o.colSpan; return w(Yt, { column: t, index: n, colSpan: s, rowSpan: i }) }, e.prototype.renderRow = function (t, e, n) { var r = this, o = kt.leafColumns(this.props.header.columns); return w(Wt, null, t.map((function (t) { return t.hidden ? null : r.renderColumn(t, e, o.indexOf(t), n) }))) }, e.prototype.renderRows = function () { var t = this, e = kt.tabularFormat(this.props.header.columns); return e.map((function (n, r) { return t.renderRow(n, r, e.length) })) }, e.prototype.render = function () { return this.props.header ? w("thead", { key: this.props.header.id, className: ot(rt("thead"), this.config.className.thead) }, this.renderRows()) : null }, e }($), Xt = function (t) { function e() { return null !== t && t.apply(this, arguments) || this } return o(e, t), e.prototype.render = function () { return w("table", { role: "grid", className: ot(rt("table"), this.config.className.table), style: i(i({}, this.config.style.table), { width: this.props.width, height: this.props.height }) }, w(Qt, { header: this.props.header }), w(qt, { data: this.props.data, status: this.props.status, header: this.props.header })) }, e }($), Zt = function (t) { function e(e, n) { var r = t.call(this, e, n) || this; return r.headerRef = { current: null }, r.state = { isActive: !0 }, r } return o(e, t), e.prototype.componentDidMount = function () { 0 === this.headerRef.current.children.length && this.setState({ isActive: !1 }) }, e.prototype.render = function () { return this.state.isActive ? w("div", { ref: this.headerRef, className: ot(rt("head"), this.config.className.header), style: i({}, this.config.style.header) }, w(dt, { position: it.Header })) : null }, e }($), Jt = function (t) { function e(e, n) { var r = t.call(this, e, n) || this; return r.footerRef = { current: null }, r.state = { isActive: !0 }, r } return o(e, t), e.prototype.componentDidMount = function () { 0 === this.footerRef.current.children.length && this.setState({ isActive: !1 }) }, e.prototype.render = function () { return this.state.isActive ? w("div", { ref: this.footerRef, className: ot(rt("footer"), this.config.className.footer), style: i({}, this.config.style.footer) }, w(dt, { position: it.Footer })) : null }, e }($), te = function (t) { function e(e, n) { var r = t.call(this, e, n) || this; return r.configContext = function (t, e) { var n = { __c: e = "__cC" + _++, __: null, Consumer: function (t, e) { return t.children(e) }, Provider: function (t) { var n, r; return this.getChildContext || (n = [], (r = {})[e] = this, this.getChildContext = function () { return r }, this.shouldComponentUpdate = function (t) { this.props.value !== t.value && n.some(N) }, this.sub = function (t) { n.push(t); var e = t.componentWillUnmount; t.componentWillUnmount = function () { n.splice(n.indexOf(t), 1), e && e.call(t) } }), t.children } }; return n.Provider.__ = n.Consumer.contextType = n }(), r.state = { status: xt.Loading, header: e.header, data: null }, r } return o(e, t), e.prototype.processPipeline = function () { return s(this, void 0, void 0, (function () { var t, e; return a(this, (function (n) { switch (n.label) { case 0: this.props.config.eventEmitter.emit("beforeLoad"), this.setState({ status: xt.Loading }), n.label = 1; case 1: return n.trys.push([1, 3, , 4]), [4, this.props.pipeline.process()]; case 2: return t = n.sent(), this.setState({ data: t, status: xt.Loaded }), this.props.config.eventEmitter.emit("load", t), [3, 4]; case 3: return e = n.sent(), ct.error(e), this.setState({ status: xt.Error, data: null }), [3, 4]; case 4: return [2] } })) })) }, e.prototype.componentDidMount = function () { return s(this, void 0, void 0, (function () { var t; return a(this, (function (e) { switch (e.label) { case 0: return t = this.props.config, [4, this.processPipeline()]; case 1: return e.sent(), t.header && this.state.data && this.state.data.length && this.setState({ header: t.header.adjustWidth(t.container, t.tableRef, t.tempRef, t.autoWidth) }), this.processPipelineFn = this.processPipeline.bind(this), this.props.pipeline.on("updated", this.processPipelineFn), [2] } })) })) }, e.prototype.componentWillUnmount = function () { this.props.pipeline.off("updated", this.processPipelineFn) }, e.prototype.componentDidUpdate = function (t, e) { e.status != xt.Rendered && this.state.status == xt.Loaded && (this.setState({ status: xt.Rendered }), this.props.config.eventEmitter.emit("ready")) }, e.prototype.render = function () { return w(this.configContext.Provider, { value: this.props.config }, w("div", { role: "complementary", className: ot("gridjs", rt("container"), this.state.status === xt.Loading ? rt("loading") : null, this.props.config.className.container), style: i(i({}, this.props.config.style.container), { width: this.props.width }) }, this.state.status === xt.Loading && w("div", { className: rt("loading-bar") }), w(Zt, null), w("div", { className: rt("wrapper"), style: { width: this.props.width, height: this.props.height } }, w(Xt, { ref: this.props.config.tableRef, data: this.state.data, header: this.state.header, width: this.props.width, height: this.props.height, status: this.state.status })), w(Jt, null)), w("div", { ref: this.props.config.tempRef, id: "gridjs-temp", className: rt("temp") })) }, e }($), ee = function (t) { function e(e) { var n = t.call(this) || this; return n.config = new jt({ instance: n, eventEmitter: n }).update(e), n.plugin = n.config.plugin, n } return o(e, t), e.prototype.updateConfig = function (t) { return this.config.update(t), this }, e.prototype.createElement = function () { return w(te, { config: this.config, pipeline: this.config.pipeline, header: this.config.header, width: this.config.width, height: this.config.height }) }, e.prototype.forceRender = function () { return this.config && this.config.container || ct.error("Container is empty. Make sure you call render() before forceRender()", !0), this.config.pipeline.clearCache(), B(null, this.config.container), B(this.createElement(), this.config.container), this }, e.prototype.render = function (t) { return t || ct.error("Container element cannot be null", !0), t.childNodes.length > 0 ? (ct.error("The container element " + t + " is not empty. Make sure the container is empty and call render() again"), this) : (this.config.container = t, B(this.createElement(), t), this) }, e }(tt), ne = [], re = l.__b, oe = l.__r, ie = l.diffed, se = l.__c, ae = l.unmount; function ue() { ne.forEach((function (t) { if (t.__P) try { t.__H.__h.forEach(pe), t.__H.__h.forEach(ce), t.__H.__h = [] } catch (e) { t.__H.__h = [], l.__e(e, t.__v) } })), ne = [] } l.__b = function (t) { At = null, re && re(t) }, l.__r = function (t) { oe && oe(t), 0; var e = (At = t.__c).__H; e && (e.__h.forEach(pe), e.__h.forEach(ce), e.__h = []) }, l.diffed = function (t) { ie && ie(t); var e = t.__c; e && e.__H && e.__H.__h.length && (1 !== ne.push(e) && Mt === l.requestAnimationFrame || ((Mt = l.requestAnimationFrame) || function (t) { var e, n = function () { clearTimeout(r), le && cancelAnimationFrame(e), setTimeout(t) }, r = setTimeout(n, 100); le && (e = requestAnimationFrame(n)) })(ue)), At = void 0 }, l.__c = function (t, e) { e.some((function (t) { try { t.__h.forEach(pe), t.__h = t.__h.filter((function (t) { return !t.__ || ce(t) })) } catch (n) { e.some((function (t) { t.__h && (t.__h = []) })), e = [], l.__e(n, t.__v) } })), se && se(t, e) }, l.unmount = function (t) { ae && ae(t); var e = t.__c; if (e && e.__H) try { e.__H.__.forEach(pe) } catch (t) { l.__e(t, e.__v) } }; var le = "function" == typeof requestAnimationFrame; function pe(t) { var e = At; "function" == typeof t.__c && t.__c(), At = e } function ce(t) { var e = At; t.__c = t.__(), At = e } n.default.fn.Grid = function (t) { t = t || {}; var e = n.default(this).get(0); if ("table" === e.tagName.toLowerCase() && !t.from) { var r = e; t.from = r; var o = n.default("<div></div>"); n.default(o).insertAfter(r), e = o.get(0) } return new ee(t).render(e) }
}();
//# sourceMappingURL=gridjs.production.min.js.map